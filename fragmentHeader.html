
<!--
Author: W3layouts
Author URL: http://w3layouts.com
License: Creative Commons Attribution 3.0 Unported
License URL: http://creativecommons.org/licenses/by/3.0/
-->
<!DOCTYPE html>
<html>
<head>
<title>Infirmary a Medical Category Flat Bootstrap Responsive Website Template | About :: w3layouts</title>
<!-- for-mobile-apps -->
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="google" content="notranslate">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="keywords" content="Infirmary Responsive web template, Bootstrap Web Templates, Flat Web Templates, Android Compatible web template, 
Smartphone Compatible web template, free webdesigns for Nokia, Samsung, LG, SonyEricsson, Motorola web design" />
<script type="application/x-javascript"> addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false);
		function hideURLbar(){ window.scrollTo(0,1); } </script>
<!-- //for-mobile-apps -->
<link href="css/bootstrap.css" rel="stylesheet" type="text/css" media="all" />
<link rel="stylesheet" href="css/jquery-ui.css" />
<link href="css/popuo-box.css" rel="stylesheet" type="text/css" media="all"/>
<link href="css/style.css" rel="stylesheet" type="text/css" media="all" />
<!-- js -->
<script type="text/javascript" src="js/jquery-2.1.4.min.js"></script>
<script type="text/javascript" src="js/numscroller-1.0.js"></script>

<!-- //js -->
<script type="text/javascript" src="js/bootstrap-3.1.1.min.js"></script>

<!-- fonts -->
<link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
<link href='//fonts.googleapis.com/css?family=Viga' rel='stylesheet' type='text/css'>

	<!-- start-smoth-scrolling -->
		<script type="text/javascript" src="js/move-top.js"></script>
		<script type="text/javascript" src="js/easing.js"></script>
		<script type="text/javascript">
			jQuery(document).ready(function($) {
				$(".scroll").click(function(event){		
					event.preventDefault();
					$('html,body').animate({scrollTop:$(this.hash).offset().top},1000);
				});
			});
		</script>
	<!-- start-smoth-scrolling -->

	<script src="js/responsiveslides.min.js"></script>
	<!-- Okta SigninWidget -->
    <!-- Latest CDN production Javascript and CSS: 2.9.0 -->
    <script
      src="https://ok1static.oktacdn.com/assets/js/sdk/okta-signin-widget/2.9.0/js/okta-sign-in.min.js"
      type="text/javascript"></script>
    <link
      href="https://ok1static.oktacdn.com/assets/js/sdk/okta-signin-widget/2.9.0/css/okta-sign-in.min.css"
      type="text/css"
      rel="stylesheet"/>
    
    <!-- Theme file: Customize or replace this file if you want to override our default styles -->
    <link
      href="https://ok1static.oktacdn.com/assets/js/sdk/okta-signin-widget/2.9.0/css/okta-theme.css"
      type="text/css"
      rel="stylesheet"/>
    <!-- Latest CDN production Javascript: 1.17.0 -->
    <script
      src="https://ok1static.oktacdn.com/assets/js/sdk/okta-auth-js/1.17.0/okta-auth-js.min.js"
      type="text/javascript">
    </script>
    <style>
		.auth-container {
			margin-top: 0px !important;
		}
	</style>
    <script>
        jQuery(document).ready(function($) {
        	
			console.log("Ready!!!");
			var signIn = new OktaSignIn({
                baseUrl: '{{oktaOrg}}',
                clientId: '{{oktaClientId}}',
                redirectUri: '{{oktaRedirectUri}}',
                authScheme: "OAUTH2",
                authParams: {
                    display: "page",
                    responseType: "code",
                    responseMode: "form_post",
                    issuer: "{{oktaOrg}}/oauth2/{{oktaAuthServerId}}",
                    scopes: [
                        "openid",
                        "profile"
                    ]
                },
                features: {
                    idpDiscovery: true
                }
            });
    
            signIn.session.get(function(res) {
                if (res.status==='ACTIVE') {
                    console.log("Active");
                    $("#loginButton").hide();
                    $("#registerButton").hide();
                    $("#userprofile").show();
                    $("#logoutButton").show();
                    
                    var authClient = new OktaAuth({
                        url: '{{oktaOrg}}',
                        clientId: '{{oktaClientId}}',
                        redirectUri: '{{oktaRedirectUri}}',
                        issuer: "{{oktaOrg}}/oauth2/{{oktaAuthServerId}}"
                    });
            		var idToken = getCookie("id_token");
                    var decodedIdToken = authClient.token.decode(idToken);
                    console.log(decodedIdToken);
                    $("#userProfileLinkLabel").text(decodedIdToken.payload.name);
                    
            
                } else {
                	$("#loginButton").show();
                    $("#registerButton").show();
                    $("#userprofile").hide();
                    $("#logoutButton").hide();
                    
                    signIn.renderEl(
                        // Assumes there is an empty element on the page with an id of 'osw-container'
                        { el: '#widget-container' },
                        
                        function(res) {
                            if (res.status === 'IDP_DISCOVERY') {
                                console.log("data: %s", JSON.stringify(res));
                                res.idpDiscovery.redirectToIdp('{{appBaseUrl}}');
                            }
                        }
        
                    );
                }
            });
            
            $("#regSubmit").on("click", (event) => {
				console.log("regSubmit.click()");
				var submissionRequest = {
					"firstName": $("#regFirstName").val(),
					"lastName": $("#regLastName").val(),
					"email": $("#regEmail").val(),
					"password": $("#regPassword").val(),
					"confirmPassword": $("#regConfirmPassword").val(),
				}
				
				$.ajax({
					url: "/createuser",
					type: "POST",
					contentType: "application/json",
					data: JSON.stringify(submissionRequest),
					dataType: "json",
					success: function(requestData) {
					    console.log("createuser response");
					    console.log(requestData);
					    if(requestData.success) {
					    	console.log("SUCCESS!!!");
					    	alert("You account has been successfully created! Please sign in to access more features.");
					    	location.reload();
					    } else {
					    	alert(requestData.message);
					    }
					}
				});
			});
            
		});
        
        function getCookie(cname) {
		    var name = cname + "=";
		    var decodedCookie = decodeURIComponent(document.cookie);
		    var ca = decodedCookie.split(';');
		    for(var i = 0; i <ca.length; i++) {
		        var c = ca[i];
		        while (c.charAt(0) == ' ') {
		            c = c.substring(1);
		        }
		        if (c.indexOf(name) == 0) {
		            return c.substring(name.length, c.length);
		        }
		    }
		    return "";
		}
        
    </script>
</head>
<body>
<!-- header -->
<div class="header wow zoomIn">
	<div class="container">
		<div class="header_left" data-wow-duration="2s" data-wow-delay="0.5s">
			<ul>
				<li><span class="glyphicon glyphicon-earphone" aria-hidden="true"></span>+123 456 7890</li>
				<li><a href="mailto:info@example.com"><span class="glyphicon glyphicon-envelope" aria-hidden="true"></span>info@example.com</a></li>
			</ul>
		</div>
		<div class="header_right">
			<div class="login">
				<ul>
					<li id="userprofile" style="display: none;"><a id="userProfileLinkLabel" href="/userprofile"></a></li>
					<li id="logoutButton" style="display: none;"><a href="/logout">Logout</a></li>
					<li id="loginButton" style="display: none;"><a href="#" data-toggle="modal" data-target="#myModal4"><span class="glyphicon glyphicon-user" aria-hidden="true"></span>Login</a></li>
					<li id="registerButton" style="display: none;"><a href="#" data-toggle="modal" data-target="#myModal5"><span class="glyphicon glyphicon-user" aria-hidden="true"></span>Signup</a></li>
					<li>
						<div class="search-bar">
							<div class="search">		
								<a class="play-icon popup-with-zoom-anim" href="#small-dialog"><i class="glyphicon glyphicon-search"> </i> </a>
							</div>
							<script src="js/jquery.magnific-popup.js" type="text/javascript"></script>
								<div id="small-dialog" class="mfp-hide">
									<div class="search-top">
										<div class="login_pop">
											<form action="#" method="post">
												<input type="submit" value="">
												<input type="text" name="Type something..." value="Type something..." onfocus="this.value = '';" onblur="if (this.value == '') {this.value = '';}">
											</form>
										</div>			
									</div>
									<script>
												$(document).ready(function() {
												$('.popup-with-zoom-anim').magnificPopup({
													type: 'inline',
													fixedContentPos: false,
													fixedBgPos: true,
													overflowY: 'auto',
													closeBtnInside: true,
													preloader: false,
													midClick: true,
													removalDelay: 300,
													mainClass: 'my-mfp-zoom-in'
												});
																												
												});
									</script>				
								</div>
						</div>
					</li>
				</ul>
			</div>
			<div class="clearfix"></div>
		</div>
		<div class="clearfix"></div>
	</div>
</div>
<!-- //header -->